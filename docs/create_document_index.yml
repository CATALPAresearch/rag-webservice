post:
  summary: Upload a document and create an index for RAG
  description: Uploads a PDF file and creates an index in the document store for retrieval-augmented generation (RAG).
  tags:
    - Documents
  requestBody:
    required: true
    content:
      multipart/form-data:
        schema:
          type: object
          required:
            - file
            - system
            - course_id
          properties:
            file:
              type: string
              format: binary
              description: PDF document to be indexed
            system:
              type: string
              example: "aple-demo-moodle"
            course_id:
              type: string
              example: "101"
            document_type:
              type: string
              example: "activity_longpage"
            document_id:
              type: string
              example: "7"
  responses:
    '200':
      description: File uploaded and indexed successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: "File received successfully"
              document_index:
                type: string
                example: "doc_238fd8"
              file:
                type: string
                example: "lecture1.pdf"
    '400':
      description: Missing or invalid file
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: "No file part 0"
    '500':
      description: Server error
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: "Unexpected server error"
